/*! dxtpl by DXkite 2016-12-14 */
!function(a){function b(a,b){try{new Function(a)}catch(a){return"throw "+a.name+"("+e(a.message)+");{"}return b}function c(a,b){var c="";return a.match(/(?!^)\n/)?r(a.split("\n"),function(a){a&&(b&&(a=a.replace(/\s+/g," ").replace(/<!--.*?-->/g,"")),a&&(c+=m[1]+e(a)+m[2],c+="\n"))}):a&&(c+=m[1]+e(a)+m[2]),c}function d(a){var c;if(!(c=a.match(new RegExp(l))))return(c=a.match(/^!.*$/))?m[1]+"$_unit._echo("+c[1]+")"+m[2]:m[1]+"$_unit._escape("+a+")"+m[2];var d=c[1],e=c[2];switch(d){case"include":return e=e.trim().split(" "),1===e.length&&e.push("$_unit.value"),e=e.join(","),m[1]+"$_unit._include("+e+")"+m[2];case"if":return b("if("+e+"){}","if ("+e+") {");case"else":return(c=e.match(/^\s*if\s+(.*)/))?"} else if ("+c[1]+"){":"}else{";case"/if":case"/while":case"/for":return"}";case"while":return b("while("+e+"){}","while ("+e+") {");case"for":return b("for("+e+"){}","for ("+e+") {");case"each":var c=e.match(/(\w+)\s+(?:(?:as(?:\s+(\w+)))?(?:(?:\s+=>)?\s+(\w+))?)?/);if(c){var f,g=c[1];return f=c[2]?c[3]?c[3]+","+c[2]:c[2]:"value,index","$_unit._each("+g+",function("+f+"){"}return'throw SyntaxError("Null Each Value");$_unit._each(null,function(){';case"/each":return"});"}}function e(a){return"'"+a.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function f(a){return"[object Array]"===Object.prototype.toString.call(a)}function g(a,b){var e="";return a=a.replace(/^\n/,""),r(a.split(tagstart),function(a){var f=a.split(tagend);1===f.length?e+=c(f[0],b):(e+=d(f[0]),e+=c(f[1]))}),e}function h(a,b,c){var d=c||!0,e=[];e.push("var $_unit=this,"+m[0]);for(var f in b)e.push(f+"=this.value."+f);var g="";return d&&(g='"use strict";'),g+=e.join(","),g+=";",g+=a+"return new String("+m[3]+");"}function i(a,b,c,d){var e,f=h(c,d),g={_each:r,_echo:p,_escape:q,_include:u,value:d};try{var i=new Function(f);e=i.call(g)}catch(c){var j=new String(c.stack).match(/<anonymous>:(\d+):\d+/);if(j){var k=j[1]-1;v(a,b,k,c)}else{var a=a||"anonymous",j=new String(c.stack).match(/Function code:(\d+):\d+/);j?console.error("DxTPL:Compile Error@"+a+" Line "+j[1]):console.error("DxTPL:Compile Error@"+a)}}return e}function j(a){var b=document.getElementById("template_caches");b||(b=document.createElement("div"),b.id="template_caches",b.style.display="none",document.body.appendChild(b));var c="template_cache_"+a,d=document.getElementById("template_cache_"+a);return d||(d=document.createElement("div"),d.id=c,d.innerText=g(document.getElementById(a).innerHTML,parsers),b.appendChild(d)),d.innerText}var k="if,else,each,include,while,for",l="^\\s*((?:/)?(?:"+k.split(",").join("|")+"))(.*)",m="".trim?["$_tpl_=''","$_tpl_+=",";","$_tpl_"]:["$_tpl_=[]","$_tpl_.push(",");","$_tpl_.join('')"],n={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},o=function(a){this.config(a)};o.prototype.config=function(a){this.cache=void 0!==typeof a.cache?a.cache:defaults.cache,this.compress=void 0!==typeof a.compress?a.compress:defaults.compress,a.tags&&2===a.tags.length&&(this.tagstart=a.tags[0],this.tagend=a.tags[1]),this.use_strict=a.use_strict||!0};var p=function(a){return new String(a)},q=function(a){return p(a).replace(/&(?![\w#]+;)|[<>"']/g,function(a){return n[a]})},r=function(a,b){if(f(a))s(a,b);else for(var c in a)b.call(a[c],a[c],c)},s=function(a,b){for(var c=0;c<a.length;++c)b.call(a[c],a[c],c)},t=function(a){for(var b={},c=0;c<arguments.length;c++)for(var d in arguments[c])b[d]=arguments[c][d];return b},u=function(a,b){if(!document.getElementById(a))throw Error("No Template "+a);try{var c=new x(a,b);return c instanceof String?c:"[Error Template "+a+"]"}catch(a){throw a}},v=function(a,b,c,d){var a=a||"anonymous",e="DxTPL Error:";if(console.group(e),b){var f=b.replace(/^\n/,"").split("\n"),g=c-5>0?c-5:1,h=c+5>f.length?f.length:c+5;console.error(d);for(var i=g;i<h;i++)i==c?console.log(i+"|%c"+f[c-1]+"\t\t%c->\t\t%c"+d.name+":"+d.message,"color:red;","color:green;","color:red;"):console.log(i+"|"+f[i-1])}else console.log(b),console.log("%c"+e+d.message+"\t\t@"+a+":"+c,"color:red;");console.groupEnd(e)},w=function(a,b){var c=document.querySelectorAll(a);s(c,function(c,d){var e,f=c.innerHTML;if(c.dataset.tplInit)try{var h=new Function("return "+c.dataset.tplInit+";");e=h()}catch(b){v(a+"["+d+"]",null,0,new Error("Unsupport json"))}e=t(e,b);var j=g(f,parsers);c.innerHTML=i(a,f,j,e)})},x=function(a,b){if("string"!=typeof a)throw Error("Unsupport Template ID");var c,d=document.getElementById(a),e=d.innerHTML;return c=cache?j(a):g(e,parsers),b?i(a,e,c,b):{config:dxtpl.config,display:function(b){return i(a,e,c,b)}}};o.prototype.compile=function(a){return{display:function(b){return i(null,a,g(a,parsers),b)}}},dxtpl.template=x,dxtpl.selftpl=w,a.dxtpl=dxtpl}(window);